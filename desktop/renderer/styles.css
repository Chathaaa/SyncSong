body { margin:0; font-family: system-ui, Arial; background:#0b1220; color:#e5e7eb; }
.topbar { display:flex; gap:14px; align-items:center; padding:10px 12px; border-bottom:1px solid #1f2937; background:#0f172a; }
.brand { font-weight:700; }
.session { display:flex; gap:8px; align-items:center; flex:1; }
.session input { height:30px; border-radius:8px; border:1px solid #334155; background:#0b1220; color:#e5e7eb; padding:0 10px; }
.session button { height:30px; border-radius:8px; border:1px solid #334155; background:#111827; color:#e5e7eb; padding:0 10px; cursor:pointer; }
.sessionMeta { color:#94a3b8; font-size:12px; margin-left:6px; }
#copySession { display:none; }

.layout { display:grid; grid-template-columns: 1fr 1fr; gap:12px; padding:12px; height: calc(100vh - 54px); box-sizing:border-box; }
.panel { background:#0f172a; border:1px solid #1f2937; border-radius:14px; padding:12px; display:flex; flex-direction:column; min-height:0; }
.panelTitle { font-weight:700; margin-bottom:10px; }
.row { display:flex; gap:8px; margin-bottom:10px; }
select, input { height:34px; border-radius:10px; border:1px solid #334155; background:#0b1220; color:#e5e7eb; padding:0 10px; }
button { height:34px; border-radius:10px; border:1px solid #334155; background:#111827; color:#e5e7eb; padding:0 10px; cursor:pointer; }

.list { overflow:auto; border-top:1px solid #1f2937; padding-top:10px; min-height:0; }
.item { display:flex; justify-content:space-between; gap:10px; padding:8px; border:1px solid #1f2937; border-radius:10px; margin-bottom:8px; background:#0b1220; }

/* --- Fix: prevent long text from shrinking buttons / wrapping button labels --- */
.item { align-items:center; min-width:0; }                  /* allow flex children to shrink */
.item .left { flex:1; min-width:0; }                        /* text column takes remaining space */
.item .actions { display:flex; gap:6px; align-items:center; flex-shrink:0; white-space:nowrap; } /* actions never shrink */
.item .actions button { white-space:nowrap; }               /* button text stays on one line */
/* ------------------------------------------------------------------------- */

.item .meta { color:#94a3b8; font-size:12px; }
.item .title { font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.item .meta { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.item .actions button { height:28px; border-radius:8px; font-size:12px; }
.item .actions button:disabled {
  opacity: 0.35;
  cursor: default;
}

.nowPlaying { border:1px solid #1f2937; border-radius:12px; padding:10px; background:#0b1220; margin-bottom:10px; }
.npTitle { font-weight:700; }
.npMeta { color:#94a3b8; font-size:12px; margin-top:4px; }
.npProgress { height:8px; background:#111827; border:1px solid #1f2937; border-radius:999px; margin-top:8px; overflow:hidden; }
.npProgress .bar { height:100%; width:0%; background:#22c55e; } /* you can change later */
.hostControls { display:flex; gap:8px; margin-bottom:10px; }

.tab { opacity: 0.7; }
.tab.active { opacity: 1; font-weight: 600; }
.panelHeader .row { display: flex; gap: 8px; margin-bottom: 8px; }

.leftPanel { min-width: 0; }
.panel { min-width: 0; }

/* 1) Prevent the whole window from scrolling */
html, body {
  height: 100%;
  overflow: hidden;
}

/* 2) The two panels should manage overflow internally */
.layout {
  overflow: hidden; /* keeps scrollbars inside panels */
}

/* 3) Make leftPanel behave like a panel with internal scrolling */
.leftPanel {
  display: flex;
  flex-direction: column;
  min-height: 0;     /* critical for flex children to scroll */
  overflow: hidden;  /* prevents left panel from expanding */
}

/* The tracks container becomes the scroll area */
#musicTracks {
  overflow: auto;
  min-height: 0;     /* critical */
  flex: 1;           /* take remaining height */
  scrollbar-width: thin;
  scrollbar-color: #333 transparent;
}

/* 4) Right panel: ensure the queue list is the scroll area */
.panel {
  min-height: 0;
  overflow: hidden;  /* prevents the panel itself from scrolling */
}

.list {
  flex: 1;           /* take remaining height */
  overflow: auto;    /* scroll just the list */
  min-height: 0;     /* critical */
  scrollbar-width: thin;
  scrollbar-color: #333 transparent;
}
